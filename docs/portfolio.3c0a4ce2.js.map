{"version":3,"sources":["js/portfolio.js"],"names":["elements","windowHeight","navBar","lastPos","positionFromTop","sections","checkVisible","i","length","element","getBoundingClientRect","top","classList","add","dataset","cssclass","remove","Math","inOutQuintic","t","b","c","d","ts","tc","requestAnimFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","scrollTo","to","duration","start","scrollTop","change","currentTime","animateScroll","val","onScroll","height","pos","document","documentElement","activeSection","forEach","s","y","activeNav","querySelector","concat","id","contains","oldActive","checkActiveSection","clickNav","e","targetId","target","targetEl","getElementById","offsetTop","downButton","querySelectorAll","innerHeight","about","addEventListener","onclick","n","push","toggle","readyState"],"mappings":";CAAA,WACE,IAAIA,EACAC,EACAC,EACAC,EACAC,EACEC,EAAW,GAKXC,EAAe,WAGnB,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAASQ,OAAQD,IAAK,CACxC,IAAIE,EAAUT,EAASO,GACDP,EAASO,GAAGG,wBAAwBC,IAEpCV,GAAgB,IACpCQ,EAAQG,UAAUC,IAAIJ,EAAQK,QAAQC,UACtCN,EAAQG,UAAUI,OAAO,aAKjCC,KAAKC,aAAe,SAASC,EAAGC,EAAGC,EAAGC,GACpC,IAAIC,GAAMJ,GAAGG,GAAGH,EAChBK,EAAKD,EAAGJ,EACR,OAAOC,EAAEC,GAAG,EAAEG,EAAGD,GAAM,GAAGA,EAAGA,EAAK,GAAGC,IAIvC,IAAIC,EACMC,OAAOC,uBAAyBD,OAAOE,6BAA+BF,OAAOG,0BAA4B,SAAUC,GAAYJ,OAAOK,WAAWD,EAAU,IAAO,KAG5K,SAASE,EAASvB,EAASwB,EAAIC,GAC7B,IAAMC,EAAQ1B,EAAQ2B,UAChBC,EAASJ,EAAKE,EAEhBG,EAAc,EAClBJ,OAAiC,IAAdA,EAA6B,IAAMA,GAChC,SAAhBK,IAEJD,GALgB,GAOhB,IAAME,EAAMvB,KAAKC,aAAaoB,EAAaH,EAAOE,EAAQH,GAC1DzB,EAAQ2B,UAAYI,EAGhBF,EAAcJ,GAChBT,EAAiBc,GAGrBA,GAMA,IAqEiBT,EAtCXW,EAAW,WA/BA,IAETC,EACAC,EA8BNrC,IA/BMoC,EAASxC,EAAOQ,wBAAwBgC,QACxCC,EAAMC,SAASC,gBAAgBT,YAE1BhC,EAAkBsC,GAAUvC,EAAUwC,GAC/CzC,EAAOU,UAAUC,IAAI,SAEnB8B,EAAMvC,GAAmBD,EAAUwC,GACrCzC,EAAOU,UAAUI,OAAO,SAE1Bb,EAAUwC,EAGe,WACzB,IACIG,EADEJ,EAASxC,EAAOQ,wBAAwBgC,OAE9CrC,EAAS0C,QAAQ,SAAAC,GACXA,EAAEtC,wBAAwBuC,EAAIP,GAAU,IAC1CI,EAAgBE,KAGpB,IAAME,EAAYN,SAASO,cAAaC,0BAAAA,OAA2BN,EAAcO,GAAM,OAEvF,IAAKH,EAAUtC,UAAU0C,SAAS,UAAW,CAC3C,IAAMC,EAAYX,SAASO,cAAc,oBACzCI,GAAaA,EAAU3C,UAAUI,OAAO,UACxCkC,EAAUtC,UAAUC,IAAI,WAQ1B2C,IAGIC,EAAW,SAACC,GAChB,IAAMC,EAAWD,EAAEE,OAAO9C,QAAQ8C,OAC5BC,EAAWjB,SAASkB,eAAeH,GACzC3B,EAASY,SAASC,gBAAiBgB,EAASE,UAAW,KACvD7D,EAAOiD,cAAc,gBAAgBvC,UAAUI,OAAO,YA2BvCc,EAxBJ,WACX,IAAMkC,EAAapB,SAASkB,eAAe,eAC3C5D,EAAS0C,SAASO,cAAc,OAChC/C,EAAkBF,EAAO6D,UACzB/D,EAAW4C,SAASqB,iBAAiB,WACrChE,EAAeyB,OAAOwC,YACtBC,MAAQvB,SAASkB,eAAe,SAChCpC,OAAO0C,iBAAiB,SAAU3B,GAClCuB,EAAWK,QAAU,WACnBrC,EAASY,SAASC,gBAAiBsB,MAAMJ,UAAW,MAEtDnB,SAASqB,iBAAiB,aAAalB,QAAQ,SAAAuB,GAC3CA,EAAED,QAAUZ,IAGhBb,SAASqB,iBAAiB,WAAWlB,QAAQ,SAAAC,GAAM3C,EAASkE,KAAKvB,KAE/C9C,EAAOiD,cAAc,UAC7BkB,QAAU,WAClBnE,EAAOiD,cAAc,gBAAgBvC,UAAU4D,OAAO,YAExDlE,KAI4B,aAAxBsC,SAAS6B,WACX3C,IAEAJ,OAAO0C,iBAAiB,OAAQtC,GArItC","file":"portfolio.3c0a4ce2.js","sourceRoot":"..","sourcesContent":["(() => {\n  let elements;\n  let windowHeight;\n  let navBar;\n  let lastPos;\n  let positionFromTop;\n  const sections = [];\n  \n  //  let offset = navBar.offsetTop;\n  // const navrect = navBar.getBoundingClientRect();\n\n  const checkVisible = () => {\n    // check if an element is in the viewport then remove the hidden class and\n    // add the class set in the cssclass data attribute\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var positionFromTop = elements[i].getBoundingClientRect().top;\n\n      if (positionFromTop - windowHeight <= 0) {\n        element.classList.add(element.dataset.cssclass);\n        element.classList.remove('hidden');\n      }\n    }\n  }\n\nMath.inOutQuintic = function(t, b, c, d) {\n  var ts = (t/=d)*t,\n  tc = ts*t;\n  return b+c*(6*tc*ts + -15*ts*ts + 10*tc);\n};\n\n// requestAnimationFrame for Smart Animating http://goo.gl/sx5sts\nvar requestAnimFrame = (function(){\n  return  window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function( callback ){ window.setTimeout(callback, 1000 / 60); };\n})();\n\nfunction scrollTo(element, to, duration) {\n  const start = element.scrollTop;\n  const change = to - start;\n  const increment = 20;\n  let currentTime = 0;\n  duration = (typeof(duration) === 'undefined') ? 500 : duration;\n  const animateScroll = function() {\n    // increment the time\n    currentTime += increment;\n    // find the value with the quadratic in-out easing function\n    const val = Math.inOutQuintic(currentTime, start, change, duration);\n    element.scrollTop = val;\n\n    // do the animation unless its over\n    if (currentTime < duration) {\n      requestAnimFrame(animateScroll);\n    }\n  };\n  animateScroll();\n}\n\n\n\n\n  const checkNav = () => {\n    // check if the navigation has reached the top then add the fixed class\n    const height = navBar.getBoundingClientRect().height;\n    const pos = document.documentElement.scrollTop;\n\n    if (pos >= positionFromTop + height && lastPos < pos) {\n      navBar.classList.add('fixed');\n    }\n    if (pos < positionFromTop && lastPos > pos) {\n      navBar.classList.remove('fixed');\n    }\n    lastPos = pos;\n  }\n\n  const checkActiveSection = () => {\n    const height = navBar.getBoundingClientRect().height;\n    let activeSection;\n    sections.forEach(s => {\n      if (s.getBoundingClientRect().y - height <= 0) {\n        activeSection = s;\n      }\n    });\n    const activeNav = document.querySelector(`.nav-link[data-target='${activeSection.id}']`);\n\n    if (!activeNav.classList.contains('active')) {\n      const oldActive = document.querySelector('.nav-link.active');\n      oldActive && oldActive.classList.remove('active');\n      activeNav.classList.add('active');\n    }\n  }\n\n  const onScroll = () => {\n    // do this when the window scrolls\n    checkVisible();\n    checkNav();\n    checkActiveSection();\n  }\n\n  const clickNav = (e) => {\n    const targetId = e.target.dataset.target;\n    const targetEl = document.getElementById(targetId);\n    scrollTo(document.documentElement, targetEl.offsetTop, 300);\n    navBar.querySelector('.nav-wrapper').classList.remove('visible');\n  }\n\n  const init = () => {\n    const downButton = document.getElementById('down-button');\n    navBar = document.querySelector('nav');\n    positionFromTop = navBar.offsetTop;\n    elements = document.querySelectorAll('.hidden');\n    windowHeight = window.innerHeight;\n    about = document.getElementById('about');\n    window.addEventListener('scroll', onScroll);\n    downButton.onclick = () => {\n      scrollTo(document.documentElement, about.offsetTop, 300);\n    };\n    document.querySelectorAll('.nav-link').forEach(n => {\n        n.onclick = clickNav;\n      }\n    );\n    document.querySelectorAll('section').forEach(s => {sections.push(s)});\n\n    const hamburger = navBar.querySelector('a.icon');\n    hamburger.onclick = () => {\n      navBar.querySelector('.nav-wrapper').classList.toggle('visible');\n    };\n    checkVisible();\n  };\n\n  const winLoad = (callback) => {\n    if (document.readyState === 'complete') {\n      callback();\n    } else {\n      window.addEventListener('load', callback);\n    }\n  };\n\n  winLoad(init);\n})();"]}