{"version":3,"sources":["js/portfolio.js"],"names":["elements","windowHeight","navBar","lastPos","positionFromTop","sections","checkVisible","i","length","element","getBoundingClientRect","top","classList","add","dataset","cssclass","remove","Math","inOutQuintic","t","b","c","d","ts","tc","requestAnimFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","scrollTo","to","duration","start","scrollTop","change","currentTime","animateScroll","val","checkNav","onScroll","height","pos","document","documentElement","activeSection","forEach","s","y","activeNav","querySelector","id","contains","oldActive","checkActiveSection","clickNav","e","targetId","target","targetEl","getElementById","offsetTop","downButton","querySelectorAll","innerHeight","about","addEventListener","onclick","n","push","toggle","readyState"],"mappings":";CAAA,WACMA,IAAAA,EACAC,EACAC,EACAC,EACAC,EACEC,EAAW,GAKXC,EAAe,WAGd,IAAA,IAAIC,EAAI,EAAGA,EAAIP,EAASQ,OAAQD,IAAK,CACpCE,IAAAA,EAAUT,EAASO,GACDP,EAASO,GAAGG,wBAAwBC,IAEpCV,GAAgB,IACpCQ,EAAQG,UAAUC,IAAIJ,EAAQK,QAAQC,UACtCN,EAAQG,UAAUI,OAAO,aAKjCC,KAAKC,aAAe,SAASC,EAAGC,EAAGC,EAAGC,GAChCC,IAAAA,GAAMJ,GAAGG,GAAGH,EAChBK,EAAKD,EAAGJ,EACDC,OAAAA,EAAEC,GAAG,EAAEG,EAAGD,GAAM,GAAGA,EAAGA,EAAK,GAAGC,IAInCC,IAAAA,EACMC,OAAOC,uBAAyBD,OAAOE,6BAA+BF,OAAOG,0BAA4B,SAAUC,GAAYJ,OAAOK,WAAWD,EAAU,IAAO,KAGnKE,SAAAA,EAASvB,EAASwB,EAAIC,GACvBC,IAAAA,EAAQ1B,EAAQ2B,UAChBC,EAASJ,EAAKE,EAEhBG,EAAc,EAClBJ,OAAiC,IAAdA,EAA6B,IAAMA,GAChC,SAAhBK,IAEJD,GALgB,GAOVE,IAAAA,EAAMvB,KAAKC,aAAaoB,EAAaH,EAAOE,EAAQH,GAC1DzB,EAAQ2B,UAAYI,EAGhBF,EAAcJ,GAChBT,EAAiBc,GAGrBA,GAMME,IAqEWX,EAtCXY,EAAW,WA/BA,IAETC,EACAC,EA8BNtC,IA/BMqC,EAASzC,EAAOQ,wBAAwBiC,QACxCC,EAAMC,SAASC,gBAAgBV,YAE1BhC,EAAkBuC,GAAUxC,EAAUyC,GAC/C1C,EAAOU,UAAUC,IAAI,SAEnB+B,EAAMxC,GAAmBD,EAAUyC,GACrC1C,EAAOU,UAAUI,OAAO,SAE1Bb,EAAUyC,EAGe,WACnBD,IACFI,EADEJ,EAASzC,EAAOQ,wBAAwBiC,OAE9CtC,EAAS2C,QAAQ,SAAAC,GACXA,EAAEvC,wBAAwBwC,EAAIP,GAAU,IAC1CI,EAAgBE,KAGdE,IAAAA,EAAYN,SAASO,cAAwCL,0BAAAA,OAAAA,EAAcM,GAAjF,OAEI,IAACF,EAAUvC,UAAU0C,SAAS,UAAW,CACrCC,IAAAA,EAAYV,SAASO,cAAc,oBACzCG,GAAaA,EAAU3C,UAAUI,OAAO,UACxCmC,EAAUvC,UAAUC,IAAI,WAQ1B2C,IAGIC,EAAW,SAACC,GACVC,IAAAA,EAAWD,EAAEE,OAAO9C,QAAQ8C,OAC5BC,EAAWhB,SAASiB,eAAeH,GACzC3B,EAASa,SAASC,gBAAiBe,EAASE,UAAW,KACvD7D,EAAOkD,cAAc,gBAAgBxC,UAAUI,OAAO,YA2BvCc,EAxBJ,WACLkC,IAAAA,EAAanB,SAASiB,eAAe,eAC3C5D,EAAS2C,SAASO,cAAc,OAChChD,EAAkBF,EAAO6D,UACzB/D,EAAW6C,SAASoB,iBAAiB,WACrChE,EAAeyB,OAAOwC,YACtBC,MAAQtB,SAASiB,eAAe,SAChCpC,OAAO0C,iBAAiB,SAAU1B,GAClCsB,EAAWK,QAAU,WACnBrC,EAASa,SAASC,gBAAiBqB,MAAMJ,UAAW,MAEtDlB,SAASoB,iBAAiB,aAAajB,QAAQ,SAAAsB,GAC3CA,EAAED,QAAUZ,IAGhBZ,SAASoB,iBAAiB,WAAWjB,QAAQ,SAAAC,GAAM5C,EAASkE,KAAKtB,KAE/C/C,EAAOkD,cAAc,UAC7BiB,QAAU,WAClBnE,EAAOkD,cAAc,gBAAgBxC,UAAU4D,OAAO,YAExDlE,KAI4B,aAAxBuC,SAAS4B,WACX3C,IAEAJ,OAAO0C,iBAAiB,OAAQtC,GArItC","file":"portfolio.e1a2c49a.js","sourceRoot":"..","sourcesContent":["(() => {\n  let elements;\n  let windowHeight;\n  let navBar;\n  let lastPos;\n  let positionFromTop;\n  const sections = [];\n  \n  //  let offset = navBar.offsetTop;\n  // const navrect = navBar.getBoundingClientRect();\n\n  const checkVisible = () => {\n    // check if an element is in the viewport then remove the hidden class and\n    // add the class set in the cssclass data attribute\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var positionFromTop = elements[i].getBoundingClientRect().top;\n\n      if (positionFromTop - windowHeight <= 0) {\n        element.classList.add(element.dataset.cssclass);\n        element.classList.remove('hidden');\n      }\n    }\n  }\n\nMath.inOutQuintic = function(t, b, c, d) {\n  var ts = (t/=d)*t,\n  tc = ts*t;\n  return b+c*(6*tc*ts + -15*ts*ts + 10*tc);\n};\n\n// requestAnimationFrame for Smart Animating http://goo.gl/sx5sts\nvar requestAnimFrame = (function(){\n  return  window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function( callback ){ window.setTimeout(callback, 1000 / 60); };\n})();\n\nfunction scrollTo(element, to, duration) {\n  const start = element.scrollTop;\n  const change = to - start;\n  const increment = 20;\n  let currentTime = 0;\n  duration = (typeof(duration) === 'undefined') ? 500 : duration;\n  const animateScroll = function() {\n    // increment the time\n    currentTime += increment;\n    // find the value with the quadratic in-out easing function\n    const val = Math.inOutQuintic(currentTime, start, change, duration);\n    element.scrollTop = val;\n\n    // do the animation unless its over\n    if (currentTime < duration) {\n      requestAnimFrame(animateScroll);\n    }\n  };\n  animateScroll();\n}\n\n\n\n\n  const checkNav = () => {\n    // check if the navigation has reached the top then add the fixed class\n    const height = navBar.getBoundingClientRect().height;\n    const pos = document.documentElement.scrollTop;\n\n    if (pos >= positionFromTop + height && lastPos < pos) {\n      navBar.classList.add('fixed');\n    }\n    if (pos < positionFromTop && lastPos > pos) {\n      navBar.classList.remove('fixed');\n    }\n    lastPos = pos;\n  }\n\n  const checkActiveSection = () => {\n    const height = navBar.getBoundingClientRect().height;\n    let activeSection;\n    sections.forEach(s => {\n      if (s.getBoundingClientRect().y - height <= 0) {\n        activeSection = s;\n      }\n    });\n    const activeNav = document.querySelector(`.nav-link[data-target='${activeSection.id}']`);\n\n    if (!activeNav.classList.contains('active')) {\n      const oldActive = document.querySelector('.nav-link.active');\n      oldActive && oldActive.classList.remove('active');\n      activeNav.classList.add('active');\n    }\n  }\n\n  const onScroll = () => {\n    // do this when the window scrolls\n    checkVisible();\n    checkNav();\n    checkActiveSection();\n  }\n\n  const clickNav = (e) => {\n    const targetId = e.target.dataset.target;\n    const targetEl = document.getElementById(targetId);\n    scrollTo(document.documentElement, targetEl.offsetTop, 300);\n    navBar.querySelector('.nav-wrapper').classList.remove('visible');\n  }\n\n  const init = () => {\n    const downButton = document.getElementById('down-button');\n    navBar = document.querySelector('nav');\n    positionFromTop = navBar.offsetTop;\n    elements = document.querySelectorAll('.hidden');\n    windowHeight = window.innerHeight;\n    about = document.getElementById('about');\n    window.addEventListener('scroll', onScroll);\n    downButton.onclick = () => {\n      scrollTo(document.documentElement, about.offsetTop, 300);\n    };\n    document.querySelectorAll('.nav-link').forEach(n => {\n        n.onclick = clickNav;\n      }\n    );\n    document.querySelectorAll('section').forEach(s => {sections.push(s)});\n\n    const hamburger = navBar.querySelector('a.icon');\n    hamburger.onclick = () => {\n      navBar.querySelector('.nav-wrapper').classList.toggle('visible');\n    };\n    checkVisible();\n  };\n\n  const winLoad = (callback) => {\n    if (document.readyState === 'complete') {\n      callback();\n    } else {\n      window.addEventListener('load', callback);\n    }\n  };\n\n  winLoad(init);\n})();"]}